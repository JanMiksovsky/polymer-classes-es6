<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0">
<title>Polymer classes in ES6</title>
<link rel="import" href="bower/polymer/polymer.html">
<script src="https://google.github.io/traceur-compiler/bin/traceur.js"></script>
<script src="https://google.github.io/traceur-compiler/src/bootstrap.js"></script>

<script type="module">
/* Base class for defining custom elements. */
class PolymerElement extends Polymer.Class({}) {

  /*
   * The default tag name for element converts Pascal-case class name FooElement
   * into hyphenated lowercase name foo-element. To define a custom tag name for
   * a class, override this is() getter to just return the name as a hard-coded
   * string ("my-element" or whatever).
   */
  get is() {
    let className = this.constructor.name;
    let upperCaseWordsRegex = /([A-Z][^A-Z]+)/g;
    let words = [];
    let match = upperCaseWordsRegex.exec( className );
    while ( match ) {
      words.push( match[1].toLowerCase() );
      match = upperCaseWordsRegex.exec( className );
    }
    return words.join( "-" );
  }

  static register() {
    document.registerElement( this.prototype.is, this );
  }

};

/* Define a custom element. */
class GreetElement extends PolymerElement {

  created() {
    this.textContent = "Hello, " + this.textContent + "!";
  }

};

GreetElement.register();
</script>

</head>
  
<body>
  <greet-element>world</greet-element>
</body>

</html>
